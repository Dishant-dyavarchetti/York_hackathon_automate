<!DOCTYPE html>
<html>
<head>
    <title>Weather App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #container {
            width: 80%;
            margin: 40px auto;
            text-align: center;
        }
        #weather-icon {
            font-size: 48px;
        }
    </style>
</head>
<body>
    <div id='container'>
        <h1>Weather App</h1>
        <button onclick='getLocation()'>Get Location</button>
        <form id='location-form' method='post'>
            <input type='hidden' id='lat' name='lat'>
            <input type='hidden' id='lon' name='lon'>
        </form>
        {% if data %}
            <h2>{{ data['name'] }}, {{ data['sys']['country'] }}</h2>
            <p>Temperature: {{ data['main']['temp'] }}Â°C</p>
            <p>Humidity: {{ data['main']['humidity'] }}%</p>
            <p>Wind: {{ data['wind']['speed'] }} m/s</p>
            <p id='weather-icon'>{{ data['weather'][0]['icon'] }}</p>
        {% elif error %}
            <p>{{ error }}</p>
        {% endif %}
    </div>
    <script>
        function getLocation() {
            navigator.geolocation.getCurrentPosition(position => {
                document.getElementById('lat').value = position.coords.latitude;
                document.getElementById('lon').value = position.coords.longitude;
                document.getElementById('location-form').submit();
            });
        }
    </script>
</body>
</html>